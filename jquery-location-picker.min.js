$(function(t){var e;t.fn.locationPicker=function(n,a){e=t.extend({mapOptions:t.extend({center:{lat:-7.259258,lng:112.7931297},scrollwheel:!0,zoom:17},n),height:320,latInputName:"latitude",lngInputName:"longitude",click:function(){},change:function(){},map:null,latInput:null,lngInput:null,searchInput:null,mapElement:null},a),e.mapElement=t(document.createElement("div")).css({height:e.height}),e.latInput=t(document.createElement("input")).attr("type","hidden").attr("name",e.latInputName).addClass("location-picker-input-latitude").val(e.mapOptions.center.lat),e.lngInput=t(document.createElement("input")).attr("type","hidden").attr("name",e.lngInputName).addClass("location-picker-input-longitude").val(e.mapOptions.center.lng),e.searchInput=t(document.createElement("input")).attr("type","text").attr("placeholder","Search location, city, address ..").addClass("location-picker-input-search").css({margin:"10px 0",padding:"8px",width:"50%",border:"#f0f0f0",borderRadius:"2px",boxShadow:"0px 2px 1px #c0c0c0"}),this.css({height:e.height}).append(e.searchInput).append(e.mapElement).append(e.latInput).append(e.lngInput),e.map=new google.maps.Map(e.mapElement[0],e.mapOptions),e.marker=new google.maps.Marker({map:e.map,position:e.mapOptions.center,title:"Picked Location"});var l=new google.maps.places.SearchBox(e.searchInput[0]);return e.map.controls[google.maps.ControlPosition.TOP_LEFT].push(e.searchInput[0]),e.map.addListener("bounds_changed",function(){l.setBounds(e.map.getBounds())}),e.map.addListener("click",function(t){var n={lat:t.latLng.lat(),lng:t.latLng.lng()};e.click(n),e.change(n),e.marker.setMap(null),e.marker=null,e.marker=new google.maps.Marker({map:e.map,position:n,title:"Picked Location"}),e.latInput.val(t.latLng.lat()),e.lngInput.val(t.latLng.lng())}),l.addListener("places_changed",function(){var t=l.getPlaces();if(0!=t.length){var n=new google.maps.LatLngBounds,a=t[0];e.marker.setMap(null),e.marker=null,e.marker=new google.maps.Marker({map:e.map,position:a.geometry.location,title:a.name}),e.latInput.val(a.geometry.location.lat()),e.lngInput.val(a.geometry.location.lng()),a.geometry.viewport?n.union(a.geometry.viewport):n.extend(a.geometry.location),e.change({lat:a.geometry.location.lat(),lng:a.geometry.location.lng()}),e.map.fitBounds(n)}}),this}});