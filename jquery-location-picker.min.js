$(function(e){var t;e.fn.locationPicker=function(n,a){t=e.extend({mapOptions:e.extend({center:{lat:-7.259258,lng:112.7931297},scrollwheel:!0,zoom:17},n),height:320,latInputName:"latitude",lngInputName:"longitude",click:function(){},map:null,latInput:null,lngInput:null,searchInput:null,mapElement:null},a),t.mapElement=e(document.createElement("div")).css({height:t.height}),t.latInput=e(document.createElement("input")).attr("type","hidden").attr("name",t.latInputName).addClass("location-picker-input-latitude").val(t.mapOptions.center.lat),t.lngInput=e(document.createElement("input")).attr("type","hidden").attr("name",t.lngInputName).addClass("location-picker-input-longitude").val(t.mapOptions.center.lng),t.searchInput=e(document.createElement("input")).attr("type","text").attr("placeholder","Search location, city, address ..").addClass("location-picker-input-search").css({margin:"10px 0",padding:"8px",width:"50%",border:"#f0f0f0",borderRadius:"2px",boxShadow:"0px 2px 1px #c0c0c0"}),this.css({height:t.height}).append(t.searchInput).append(t.mapElement).append(t.latInput).append(t.lngInput),t.map=new google.maps.Map(t.mapElement[0],t.mapOptions),t.marker=new google.maps.Marker({map:t.map,position:t.mapOptions.center,title:"Picked Location"});var l=new google.maps.places.SearchBox(t.searchInput[0]);return t.map.controls[google.maps.ControlPosition.TOP_LEFT].push(t.searchInput[0]),t.map.addListener("bounds_changed",function(){l.setBounds(t.map.getBounds())}),t.map.addListener("click",function(e){var n={lat:e.latLng.lat(),lng:e.latLng.lng()};t.click(n),t.marker.setMap(null),t.marker=null,t.marker=new google.maps.Marker({map:t.map,position:n,title:"Picked Location"}),t.latInput.val(e.latLng.lat()),t.lngInput.val(e.latLng.lng())}),l.addListener("places_changed",function(){var e=l.getPlaces();if(0!=e.length){var n=new google.maps.LatLngBounds,a=e[0];t.marker.setMap(null),t.marker=null,t.marker=new google.maps.Marker({map:t.map,position:a.geometry.location,title:a.name}),a.geometry.viewport?n.union(a.geometry.viewport):n.extend(a.geometry.location),t.map.fitBounds(n)}}),this}});